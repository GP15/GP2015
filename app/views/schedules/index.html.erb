<% provide(:title, "Schedules") %>

<%= render 'layouts/nav_dark_text' %>
<%= render 'page_title' %>
<%= render 'filters' %>

<section class="padding-one">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <% if @schedules.present? %>
          <table class="table table-striped table-cell-center">
            <thead>
              <tr>
                <th>Date</th>
                <th>Activity</th>
                <th>Studio</th>
                <th>City</th>
                <th>Time</th>
                <th>Age</th>
                <th>Level</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <% @schedules.each do |schedule| %>
                <tr>
                  <td><%= schedule.date.strftime("%d %b %Y") %></td>
                  <td><%= link_to schedule.klass.name, schedule_path(schedule), class: "link-underline" if schedule.klass %></td>
                  <td><%= link_to schedule.partner.company, partner_path(schedule.partner), class: "link-underline" if schedule.partner %></td>
                  <td><%= schedule.city.name if schedule.city %></td>
                  <td>
                    <%= schedule.start_time.strftime("%l:%M%P") %> -
                    <%= schedule.end_time.strftime("%l:%M%P") %>
                  </td>
                  <td><%= schedule.klass.age_start %>-<%= schedule.klass.age_end %></td>
                  <td><%= schedule.klass.level if schedule.klass %></td>
                  <td><%= reserve_button(schedule) %></td>
                </tr>
              <% end %>
            </tbody>
          </table>
        <% else %>
          <p>No activity found.</p>
        <% end %>
      </div>
    </div>
  </div>
</section>
