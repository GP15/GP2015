<% provide(:title, @partner.company) %>

<br>
<div>
  <%= link_to "Home", root_path %> >
  <%= link_to "Partners", partners_path %> >
  <%= @partner.company %>
</div>
<br>

<div>
  <%= image_tag @partner.img_url, size: "500x200", alt: "photo of #{@partner.company}" %>
  <h1><%= @partner.company %></h1>
  <div>
    <strong>Address:</strong>
    <%= @partner.address %>, <%= @partner.city.name %>, <%= @partner.state %>
  </div>
  <div>
    <strong>Phone:</strong> <%= @partner.phone %>
  </div>
  <div>
    <strong>Activities:</strong>
    <%= @partner.klasses.map { |klass| klass.name }.join(", ") %>
  </div>
</div>

<% if @schedules.present? %>
  <br>
  <table>
    <thead>
      <tr>
        <th>Date</th>
        <th>Activity</th>
        <th>Time</th>
        <th>Level</th>
        <th>Availability</th>
      </tr>
    </thead>
    <tbody>
      <% @schedules.each do |schedule| %>
        <tr>
          <td><%= schedule.date.strftime("%d %b %Y") %></td>
          <td><%= schedule.klass.name if schedule.klass %></td>
          <td>
            <%= schedule.start_time.strftime("%l:%M%P") %> -
            <%= schedule.end_time.strftime("%l:%M%P") %>
          </td>
          <td><%= schedule.klass.level if schedule.klass %></td>
          <td><%= link_to 'Reserve', '#' %></td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>No current activities in the meantime.</p>
<% end %>
